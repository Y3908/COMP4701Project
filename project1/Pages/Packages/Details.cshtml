@page "{id:int}"
@model project1.Pages.Packages.DetailsModel
@{
    ViewData["Title"] = Model.Package?.Title ?? "Package Details";
}

<a asp-page="Index">&larr; Back to Packages</a>

@if (Model.Package is null)
{
    <div class="alert alert-warning mt-3">Package not found.</div>
}
else
{
    <div class="mt-3">
        @if (!string.IsNullOrWhiteSpace(Model.Package.ImageUrl))
        {
            <img src="@Model.Package.ImageUrl" alt="@Model.Package.Title" class="img-fluid rounded mb-3" style="max-height:360px;object-fit:cover;width:100%;" />
        }
        <h1>@Model.Package.Title</h1>
        <p>@Model.Package.Description</p>
        <p><strong>Duration:</strong> @Model.Package.DurationDays days</p>
        <p><strong>Destinations:</strong> @Model.Package.Destinations</p>
        <p><strong>Base Price:</strong> @Model.Package.BasePrice.ToString("C")</p>
        <div class="d-flex gap-2">
            <a asp-page="Customize" asp-route-id="@Model.Package.PackageID" class="btn btn-outline-secondary">Customize</a>
            <a asp-page="/Bookings/Create" asp-route-packageId="@Model.Package.PackageID" class="btn btn-primary">Book Now</a>
            <a asp-page="/Reviews/Create" asp-route-packageId="@Model.Package.PackageID" class="btn btn-outline-primary">Write Review</a>
        </div>
    </div>

    <hr />
    <h3>Reviews</h3>
    @if (!Model.Reviews.Any())
    {
        <p>No reviews yet.</p>
    }
    else
    {
        <ul class="list-group">
        @foreach (var r in Model.Reviews)
        {
            <li class="list-group-item">
                <strong>Rating:</strong> @r.Rating / 5<br />
                @r.Comment
            </li>
        }
        </ul>
    }
}


